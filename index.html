<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quinielas - Sistema de Gestión</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#CF0A0A',
                        secondary: '#DC5F00',
                        dark: '#000000',
                        light: '#EEEEEE',
                    }
                }
            }
        }
    </script>
    <!-- Prevenir parpadeo de modo oscuro -->
    <script>
        (function() {
            const darkMode = localStorage.getItem('quinielaPro_darkMode');
            if (darkMode === 'dark' || (!darkMode && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark-mode');
            }
        })();
    </script>
</head>
<body class="min-h-screen">
    <!-- Header -->
    <header class="shadow-lg">
        <nav class="container mx-auto px-4 md:px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-trophy text-2xl md:text-3xl text-primary"></i>
                    <h1 class="text-xl md:text-2xl font-bold">QuinielaPro</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="login.html" class="hidden md:inline-block transition opacity-70 hover:opacity-100">
                        <i class="fas fa-sign-in-alt mr-1"></i>Iniciar Sesión
                    </a>
                    <a href="registro.html" class="btn-primary px-4 py-2 rounded-lg text-white text-sm md:text-base font-semibold shadow-lg hover:shadow-xl transition-all">
                        <i class="fas fa-user-plus mr-1"></i>Registrarse
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 md:px-6 py-8 md:py-12">
        <!-- Hero Section -->
        <div class="text-center mb-10 md:mb-16 fade-in">
            <h2 class="text-3xl md:text-5xl font-bold mb-3 md:mb-4">Bienvenido a QuinielaPro</h2>
            <p class="text-base md:text-xl opacity-80 mb-6 md:mb-8 px-4">La mejor plataforma para gestionar y participar en quinielas deportivas</p>
            <div class="flex flex-col md:flex-row gap-4 justify-center items-center max-w-md mx-auto">
                <a href="registro.html" class="btn-primary w-full md:w-auto px-8 py-3 rounded-lg text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all transform hover:scale-105">
                    <i class="fas fa-rocket mr-2"></i>Comenzar Ahora
                </a>
                <a href="login.html" class="card w-full md:w-auto px-8 py-3 rounded-lg font-semibold text-lg border-2 border-primary hover:bg-primary hover:text-white transition-all transform hover:scale-105">
                    <i class="fas fa-sign-in-alt mr-2"></i>Iniciar Sesión
                </a>
            </div>
        </div>

        <!-- Cards Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 max-w-6xl mx-auto">
            <!-- Para Jugadores -->
            <div class="card rounded-xl md:rounded-2xl shadow-xl p-6 md:p-8 transform hover:scale-105 transition duration-300">
                <div class="text-center mb-4 md:mb-6">
                    <div class="bg-gradient-custom w-20 h-20 md:w-24 md:h-24 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4 shadow-lg">
                        <i class="fas fa-gamepad text-3xl md:text-4xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold mb-2">Para Jugadores</h3>
                    <p class="opacity-75 text-sm md:text-base">Participa y gana premios</p>
                </div>
                <ul class="space-y-2 md:space-y-3 mb-4 md:mb-6 text-sm md:text-base">
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-primary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Ver quinielas disponibles
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-primary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Comprar y llenar quinielas
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-primary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Consultar resultados en vivo
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-primary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Reclamar tus premios
                    </li>
                </ul>
            </div>

            <!-- Para Organizadores -->
            <div class="card rounded-xl md:rounded-2xl shadow-xl p-6 md:p-8 transform hover:scale-105 transition duration-300">
                <div class="text-center mb-4 md:mb-6">
                    <div class="bg-gradient-custom w-20 h-20 md:w-24 md:h-24 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4 shadow-lg">
                        <i class="fas fa-users-cog text-3xl md:text-4xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold mb-2">Para Organizadores</h3>
                    <p class="opacity-75 text-sm md:text-base">Crea y gestiona quinielas</p>
                </div>
                <ul class="space-y-2 md:space-y-3 mb-4 md:mb-6 text-sm md:text-base">
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-secondary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Crear quinielas personalizadas
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-secondary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Importar partidos de RapidAPI
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-secondary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Ingresar resultados
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-secondary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Ver estadísticas completas
                    </li>
                </ul>
            </div>

            <!-- Fácil y Rápido -->
            <div class="card rounded-xl md:rounded-2xl shadow-xl p-6 md:p-8 transform hover:scale-105 transition duration-300 md:col-span-2 lg:col-span-1">
                <div class="text-center mb-4 md:mb-6">
                    <div class="bg-gradient-custom w-20 h-20 md:w-24 md:h-24 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4 shadow-lg">
                        <i class="fas fa-bolt text-3xl md:text-4xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold mb-2">Fácil y Rápido</h3>
                    <p class="opacity-75 text-sm md:text-base">Inicia en segundos</p>
                </div>
                <ul class="space-y-2 md:space-y-3 mb-4 md:mb-6 text-sm md:text-base">
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-primary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Registro rápido con Google
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-primary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Interfaz intuitiva
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-primary mr-2 md:mr-3 text-sm md:text-base"></i>
                        Resultados en tiempo real
                    </li>
                    <li class="flex items-center">
                        <i class="fas fa-check-circle text-primary mr-2 md:mr-3 text-sm md:text-base"></i>
                        100% gratuito para empezar
                    </li>
                </ul>
            </div>
        </div>

        <!-- Features Section -->
        <div class="mt-12 md:mt-20 grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
            <div class="text-center">
                <div class="card w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4 shadow-lg">
                    <i class="fas fa-shield-alt text-xl md:text-2xl text-primary"></i>
                </div>
                <h4 class="text-base md:text-lg font-semibold mb-1 md:mb-2">Seguro y Confiable</h4>
                <p class="opacity-75 text-sm md:text-base px-4">Tus datos y transacciones están protegidos</p>
            </div>
            <div class="text-center">
                <div class="card w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4 shadow-lg">
                    <i class="fas fa-clock text-xl md:text-2xl text-secondary"></i>
                </div>
                <h4 class="text-base md:text-lg font-semibold mb-1 md:mb-2">Resultados en Tiempo Real</h4>
                <p class="opacity-75 text-sm md:text-base px-4">Consulta los resultados al instante</p>
            </div>
            <div class="text-center">
                <div class="card w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4 shadow-lg">
                    <i class="fas fa-mobile-alt text-xl md:text-2xl text-primary"></i>
                </div>
                <h4 class="text-base md:text-lg font-semibold mb-1 md:mb-2">Diseño Responsivo</h4>
                <p class="opacity-75 text-sm md:text-base px-4">Accede desde cualquier dispositivo</p>
            </div>
        </div>

        <!-- CTA Section -->
        <div class="mt-16 md:mt-24 text-center">
            <div class="card max-w-3xl mx-auto p-8 md:p-12 rounded-2xl shadow-2xl">
                <h2 class="text-2xl md:text-4xl font-bold mb-4">¿Listo para comenzar?</h2>
                <p class="text-base md:text-xl opacity-80 mb-8">Únete a miles de usuarios que ya disfrutan de QuinielaPro</p>
                <div class="flex flex-col md:flex-row gap-4 justify-center">
                    <a href="registro.html" class="btn-primary px-8 py-4 rounded-lg text-white font-bold text-lg shadow-xl hover:shadow-2xl transition-all transform hover:scale-105">
                        <i class="fas fa-rocket mr-2"></i>Crear Cuenta Gratis
                    </a>
                    <a href="login.html" class="card px-8 py-4 rounded-lg font-semibold text-lg border-2 border-primary hover:bg-primary hover:text-white transition-all transform hover:scale-105">
                        <i class="fas fa-sign-in-alt mr-2"></i>Ya tengo cuenta
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="mt-12 md:mt-20">
        <div class="container mx-auto px-4 md:px-6 py-6 md:py-8">
            <div class="text-center">
                <p class="text-sm md:text-base">&copy; 2024 QuinielaPro. Todos los derechos reservados.</p>
                <div class="mt-3 md:mt-4 flex flex-col md:flex-row justify-center items-center space-y-2 md:space-y-0 md:space-x-4">
                    <a href="#" class="opacity-70 hover:opacity-100 transition text-sm md:text-base">Términos y Condiciones</a>
                    <a href="#" class="opacity-70 hover:opacity-100 transition text-sm md:text-base">Política de Privacidad</a>
                    <a href="#" class="opacity-70 hover:opacity-100 transition text-sm md:text-base">Soporte</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="assets/js/api-client.js"></script>
    <script src="assets/js/auth.js"></script>
    <script>
        // Configurar API
        const APP_CONFIG = {
            API_URL: 'http://localhost:3000',
        };

        api.setBaseUrl(APP_CONFIG.API_URL);

        // Si ya está autenticado, redirigir automáticamente
        (async () => {
            if (authManager.isAuthenticated()) {
                try {
                    // Verificar que la sesión es válida
                    const isValid = await authManager.checkSession();

                    if (isValid) {
                        const user = authManager.getCurrentUser();

                        // Mostrar mensaje
                        const message = document.createElement('div');
                        message.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-xl z-50';
                        message.innerHTML = `
                            <div class="flex items-center">
                                <i class="fas fa-check-circle mr-3 text-xl"></i>
                                <span>¡Hola ${user.nombre}! Redirigiendo...</span>
                            </div>
                        `;
                        document.body.appendChild(message);

                        // Redirigir según rol después de 1 segundo
                        setTimeout(() => {
                            if (user.role === 'admin') {
                                window.location.href = '/admin/index.html';
                            } else {
                                window.location.href = '/user/index.html';
                            }
                        }, 1000);
                    }
                } catch (error) {
                    // Sesión inválida, limpiar tokens
                    authManager.clearTokens();
                }
            }
        })();
    </script>
    <script src="assets/js/dark-mode.js"></script>
</body>
</html>
